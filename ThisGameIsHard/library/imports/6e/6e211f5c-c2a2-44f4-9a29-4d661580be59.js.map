{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\MoveController.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAA4C,kCAAY;IAAxD;;IAqCA,CAAC;IAnCG,wBAAwB;IACxB,+BAAM,GAAN;QACI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QAChE,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QAC1D,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;IAC5D,CAAC;IAED,8BAAK,GAAL;IACA,CAAC;IACD,2CAAkB,GAAlB,UAAmB,KAAK,EAAE,KAAK;QAE3B,IAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,EAClD;YACI,IAAI,CAAC,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,WAAW,CACjB,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,EAClC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CACtC,CAAC;SACL;IACL,CAAC;IAED,+BAAM,GAAN,UAAQ,EAAE;QACN,IAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,EAClD;YACI,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YACnD,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YACjC,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YAEjC,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAE,IAAI,CAAC,CAAC,EACtC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;YAC5C,IAAI,CAAC,IAAI,CAAC,WAAW,CACjB,KAAK,CACR,CAAC;SACL;IACL,CAAC;IApCgB,cAAc;QADlC,OAAO;OACa,cAAc,CAqClC;IAAD,qBAAC;CArCD,AAqCC,CArC2C,EAAE,CAAC,SAAS,GAqCvD;kBArCoB,cAAc","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class MoveController extends cc.Component {\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    onLoad () {\r\n        this.node.parent.on('touchmove', this.onDeviceTouchEvent, this);\r\n        this.node.on(\"touchstart\", this.onDeviceTouchEvent, this);\r\n        this.node.on(\"touchend\", this.onDeviceTouchEvent, this);\r\n    }\r\n\r\n    start () {\r\n    }\r\n    onDeviceTouchEvent(touch, event)\r\n    {\r\n        if(this.node.parent.getComponent(\"Game\").inSession)\r\n        {\r\n            var a = touch.getLocation();\r\n            this.node.setPosition(\r\n                (a.x - this.node.parent.width / 2),\r\n                (a.y - this.node.parent.height / 2)\r\n            );\r\n        }\r\n    }\r\n\r\n    update (dt) {\r\n        if(this.node.parent.getComponent(\"Game\").inSession)\r\n        {\r\n            var ball = this.node.parent.getChildByName(\"Ball\");\r\n            var distX = this.node.x - ball.x;\r\n            var distY = this.node.y - ball.y;\r\n        \r\n            var angle = Math.atan2(this.node.x -ball.x,\r\n                this.node.y - ball.y) * (180 / Math.PI);\r\n            this.node.setRotation(\r\n                angle\r\n            );\r\n        }\r\n    }\r\n}\r\n"]}