{"version":3,"sources":["BallGrav.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["const {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class BallControl extends cc.Component {\r\n\r\n    @property\r\n    Multiplier: number = 50;\r\n    @property\r\n    RotateMult:number  = 1.0;\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.director.getCollisionManager().enabled = true;\r\n        this.node.addComponent(cc.CircleCollider);\r\n        this.node.getComponent(cc.CircleCollider).radius = this.node.width/2;\r\n        this.node.getComponent(cc.CircleCollider).enabled = true;\r\n    }\r\n\r\n    start () {\r\n    }\r\n\r\n    \r\n    update (dt) {\r\n        if(this.node.parent.getComponent(\"Game\").inSession)\r\n        {\r\n            if((this.node.position.x < -(this.node.parent.width / 2) - this.node.width / 2) ||\r\n                (this.node.position.y < -(this.node.parent.height / 2) - this.node.height / 2) ||\r\n                (this.node.position.x > Math.abs(-(this.node.parent.width / 2) - this.node.width / 2)) ||\r\n                (this.node.position.y > Math.abs(-(this.node.parent.height / 2) - this.node.height / 2)))\r\n            {\r\n                this.node.parent.getComponent(\"Game\").gameOver();\r\n            }\r\n            var magnet = this.node.parent.getChildByName(\"Magnet\");        \r\n            var distX = this.node.x - magnet.x;\r\n            var distY = this.node.y - magnet.y;\r\n            var distZ = Math.sqrt(Math.pow(distX, 2) + Math.pow(distY, 2));\r\n\r\n            var nodeAction = cc.moveBy( this.Multiplier, cc.v2( distX, distY ) );\r\n            \r\n            this.node.rotation = this.RotateMult * ((this.node.rotationX) -= (dt * distZ));\r\n            this.node.runAction(nodeAction);            \r\n        }\r\n    }\r\n}\r\n"]}