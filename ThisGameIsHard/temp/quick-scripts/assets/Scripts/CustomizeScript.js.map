{"version":3,"sources":["CustomizeScript.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["import {ColorScheme} from \"./Objects/ColorScheme\"\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class CustomizeScript extends cc.Component {\r\n    @property\r\n    gap:number = 55;\r\n    user =\r\n    {\r\n        HighScore: 0.00,\r\n        Count:0,\r\n        Coins:0,\r\n        TotalTime:0,\r\n    }\r\n    skinDB = {\r\n        Balls: [\r\n            {\r\n                ID: \"000\",\r\n                unl:true,\r\n                cost:0.00,\r\n            },\r\n            {\r\n                ID: \"001\",\r\n                unl:false,\r\n                cost:10.00,\r\n            },\r\n            {\r\n                ID: \"002\",\r\n                unl:false,\r\n                cost:20.00,\r\n            },\r\n            {\r\n                ID: \"003\",\r\n                unl:false,\r\n                cost:30.00,\r\n            },\r\n            {\r\n                ID: \"004\",\r\n                unl:false,\r\n                cost:40.00,\r\n            },\r\n            {\r\n                ID: \"005\",\r\n                unl:false,\r\n                cost:50.00,\r\n            },\r\n            {\r\n                ID: \"006\",\r\n                unl:false,\r\n                cost:60.00,\r\n            },\r\n            {\r\n                ID: \"007\",\r\n                unl:false,\r\n                cost:70.00,\r\n            },\r\n            {\r\n                ID: \"008\",\r\n                unl:false,\r\n                cost:80.00,\r\n            },\r\n            {\r\n                ID: \"009\",\r\n                unl:false,\r\n                cost:90.00,\r\n            },\r\n            {\r\n                ID: \"010\",\r\n                unl:false,\r\n                cost:100.00,\r\n            },\r\n            {\r\n                ID: \"011\",\r\n                unl:false,\r\n                cost:150.00,\r\n            },\r\n            {\r\n                ID: \"012\",\r\n                unl:false,\r\n                cost:250.00,\r\n            },\r\n            {\r\n                ID: \"013\",\r\n                unl:false,\r\n                cost:300.00,\r\n            },\r\n            {\r\n                ID: \"014\",\r\n                unl:false,\r\n                cost:300.00,\r\n            },\r\n            {\r\n                ID: \"015\",\r\n                unl:false,\r\n                cost:300.00,\r\n            },\r\n        ],\r\n    }\r\n    skins =\r\n    {\r\n        Version:0.00,\r\n        CurBall: \"000\",\r\n    }\r\n    scheme:ColorScheme = null;\r\n    start () {\r\n        this.scheme = new ColorScheme();\r\n        this.checkForUpdates();\r\n        \r\n        if(localStorage.getItem(\"lastScheme\") == null)\r\n        {\r\n            localStorage.setItem(\"lastScheme\", (Math.floor(Math.random() * ColorScheme.numSchemes)) + \"\");\r\n            this.scheme.loadSchemeFromInt(parseInt(localStorage.getItem(\"lastScheme\")));\r\n        }else\r\n        {\r\n            this.scheme.loadSchemeFromInt(parseInt(localStorage.getItem(\"lastScheme\")));\r\n        }\r\n        if(localStorage.getItem(\"skinDB\") != null)\r\n        {\r\n            this.skinDB = JSON.parse(localStorage.getItem(\"skinDB\"));\r\n        }else\r\n        {\r\n            this.updateSkins();\r\n        }\r\n        if(localStorage.getItem(\"skins\") != null)\r\n        {\r\n            this.skins = JSON.parse(localStorage.getItem(\"skins\"));\r\n        }else\r\n        {\r\n            this.updateSkins();\r\n        }\r\n        if(localStorage.getItem(\"userData\") != null)\r\n        {\r\n            this.user = JSON.parse(localStorage.getItem(\"userData\"));\r\n        }\r\n        else\r\n        {\r\n            this.updatePlayer();\r\n        }\r\n        this.node.getChildByName(\"CurMon\").getComponent(cc.Label).string = \"Bank: $\" + this.user.Coins;\r\n        this.changeBtnDisp();\r\n        this.node.getChildByName(\"Back\").on('touchstart', this.onBackTouchEvent, this);  \r\n        var balls = this.skinDB.Balls;\r\n        var window = this.node.getChildByName(\"ItemsView\").getChildByName(\"view\").getChildByName(\"content\");\r\n        var mindw = 110;\r\n        var wind = -85;\r\n        var hind = -16;\r\n        for(var i = 0; i < balls.length; i++)\r\n        {\r\n            var nod = new cc.Node();\r\n            nod.name = balls[i].ID;\r\n            var sprite = new cc.Sprite();\r\n            nod.addComponent(cc.Sprite);\r\n            nod.scaleX = 0.5;\r\n            nod.scaleY = 0.3918;\r\n            nod.setContentSize(80, 80);\r\n            if(balls[i].unl)\r\n            {\r\n                nod.group = this.node.getChildByName(\"BallBtn\").group;\r\n            }else\r\n            {\r\n                nod.group = this.node.getChildByName(\"Title_1\").group;\r\n                var txtnod = new cc.Node();\r\n                txtnod.name = \"PRICE_\"+balls[i].ID;\r\n                txtnod.addComponent(cc.Label);\r\n                var text = txtnod.getComponent(cc.Label);\r\n                text.string = \"$\" + balls[i].cost;\r\n                text.fontSize = 10;\r\n                txtnod.setPosition(wind, hind - 35);\r\n                txtnod.group = this.node.getChildByName(\"Title_1\").group;\r\n                window.addChild(txtnod);\r\n            }\r\n            \r\n            window.addChild(nod);\r\n            nod.on('touchstart', this.onBallTouchEvent, this);\r\n            this.getBallRepAsSF(window.getChildByName(balls[i].ID).getComponent(cc.Sprite), balls[i].ID);\r\n            nod.setPosition(wind, hind);\r\n            wind += this.gap;\r\n            if(wind > mindw)\r\n            {\r\n                wind = -85;\r\n                hind -= 44;\r\n            }\r\n        }\r\n        this.scheme.loadColors(this.node);\r\n        this.scheme.loadColors(window);\r\n        this.node.getChildByName(\"BallBtn\").runAction(cc.repeatForever(\r\n                cc.rotateBy(4, 360)\r\n        ));\r\n    }\r\n    lastID:string = \"-1\";\r\n    onBallTouchEvent(event:cc.Event.EventTouch)\r\n    {\r\n        var id = event.target.name;\r\n        if(this.isUnlocked(id))\r\n        {\r\n            this.changeActiveBall(id);\r\n            this.changeBtnDisp();\r\n        }else\r\n        {\r\n            this.cannotDoCallback(\"Click again to buy\");\r\n            if(this.lastID == \"-1\")\r\n            {\r\n                this.lastID = id;\r\n            }else if(this.lastID == id)\r\n            {\r\n                var window = this.node.getChildByName(\"ItemsView\").getChildByName(\"view\").getChildByName(\"content\");\r\n                this.lastID = \"-1\";\r\n                if(this.unlockSkin(id))\r\n                {\r\n                    window.getChildByName(id).color = this.scheme.curScheme.Primary;\r\n                    window.removeChild(window.getChildByName(\"PRICE_\"+id));\r\n                    this.scheme.loadColors(this.node.getChildByName(\"ItemsView\").getChildByName(\"view\").getChildByName(\"content\"));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    checkForUpdates()\r\n    {\r\n        if(localStorage.getItem(\"skinDB\") != null)\r\n        {\r\n        var old = JSON.parse(localStorage.getItem(\"skinDB\"));\r\n        this.skinDB.Balls.forEach(element => {\r\n            if(!old.Balls.some(e => e.ID === element.ID))\r\n            {\r\n                old.Balls.push(element);\r\n            }\r\n        });\r\n        localStorage.setItem(\"skinDB\", JSON.stringify(old));\r\n        }\r\n    }\r\n    changeBtnDisp()\r\n    {\r\n        this.getBallRepAsSF(this.node.getChildByName(\"BallBtn\").getComponent(cc.Sprite), this.skins.CurBall);\r\n    }\r\n    onBackTouchEvent(touch, event)\r\n    {\r\n        this.node.runAction(cc.sequence( \r\n            cc.fadeOut(0.25), \r\n            cc.callFunc(function () {\r\n                 cc.director.loadScene('MainMenu');\r\n            })\r\n        ));\r\n    }\r\n    getJSONRep(obj:string)\r\n    {\r\n        return this.skinDB.Balls.filter(e => e.ID === obj)[0];\r\n    }\r\n    isUnlocked(obj:string):boolean\r\n    {\r\n        if (this.skinDB.Balls.some(e => e.ID === obj && e.unl))\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n    changeActiveBall(str:string)\r\n    {\r\n        if(this.isUnlocked(str))\r\n        {\r\n            this.skins.CurBall = str;\r\n            this.updateSkins();\r\n        }\r\n    }\r\n    enoughCoins(el):boolean\r\n    {\r\n        if(this.user.Coins >= el.cost)\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n    unlockBallJSONRep(elm:string):boolean\r\n    {\r\n        var ind = this.skinDB.Balls.find(item=>item.ID==elm);\r\n        if(ind.unl)\r\n        {\r\n            return false;\r\n        }else{\r\n            ind.unl = true;\r\n            return true;\r\n        }\r\n    }\r\n    dispMsg(Message:string)\r\n    {\r\n        this.changeErrMsg(this.scheme.curScheme.Secondary, Message);\r\n    }\r\n    unlockSkin(str:string)\r\n    {\r\n        var el = this.getJSONRep(str);\r\n        if(this.enoughCoins(el))\r\n        {\r\n            this.user.Coins -= el.cost;\r\n            this.node.getChildByName(\"SpendNot\").getComponent(cc.Label).string = \"-$\" + el.cost;\r\n            this.node.getChildByName(\"SpendNot\").runAction(cc.sequence(\r\n                cc.fadeIn(1),\r\n                cc.delayTime(1),\r\n                cc.fadeOut(1),\r\n            ));\r\n            if(this.unlockBallJSONRep(str))\r\n            {\r\n                this.dispMsg(\"Unlocked!\");\r\n            }\r\n            else\r\n            {\r\n                this.cannotDoCallback(\"Item already unlocked\");\r\n                return false;\r\n            }\r\n            this.updateSkins();\r\n        }else\r\n        {\r\n            //Not enough $\r\n            this.cannotDoCallback(\"Not enough Money\");\r\n            return false;\r\n        }\r\n        this.updateSkins();\r\n        this.updatePlayer();\r\n        this.node.getChildByName(\"CurMon\").getComponent(cc.Label).string = \"Bank: $\" + this.user.Coins;\r\n        return true;\r\n    }\r\n    cannotDo()\r\n    {\r\n        this.cannotDoCallback(\"000:Default\");\r\n    }\r\n    cannotDoCallback(Reason:string)\r\n    {\r\n        this.changeErrMsg(this.scheme.curScheme.Quatrenary, Reason);\r\n    }\r\n    changeErrMsg(col:cc.Color, reason:string)\r\n    {\r\n        this.node.getChildByName(\"Error\").runAction(cc.sequence(\r\n            cc.fadeIn(0.5),\r\n            cc.delayTime(2.0),\r\n            cc.fadeOut(1.0),\r\n        ));\r\n        this.node.getChildByName(\"Error\").color = col;\r\n        this.node.getChildByName(\"Error\").getComponent(cc.Label).string = reason;\r\n    }\r\n    updateSkins()\r\n    {\r\n        localStorage.setItem(\"skins\", JSON.stringify(this.skins));\r\n        localStorage.setItem(\"skinDB\", JSON.stringify(this.skinDB));\r\n    }\r\n    updatePlayer()\r\n    {\r\n        localStorage.setItem(\"userData\", JSON.stringify(this.user));\r\n    }\r\n    getBallRepAsSF(sprite:cc.Sprite, id:string)\r\n    {\r\n        cc.loader.loadRes(\"Balls/\"+id, function (err, res) {\r\n            if(!err)\r\n            {\r\n                sprite.spriteFrame = new cc.SpriteFrame(res);\r\n            }else\r\n            {\r\n                cc.log(err.message);\r\n            }\r\n        });\r\n    }\r\n    onDestroy()\r\n    {\r\n//        localStorage.setItem(\"skinDB\", JSON.stringify(this.skinDB));\r\n    }\r\n}\r\n"]}